<div widget class="card bottom-30">
    <div class="card-header">
        <span translate>geo.map</span>
        <div class="widget-controls">
            <a data-widgster="expand" href="#" class="transition"><i class="fa fa-chevron-down"></i></a>
            <a data-widgster="collapse" href="#" class="transition"><i class="fa fa-chevron-up"></i></a>
            <a data-widgster="close" href="#" class="transition"><i class="fa fa-times"></i></a>
        </div>
    </div>
    <div class="card-body widget-body">

        <ngui-map zoom="15" [center]="center" mapTypeId="terrain" scrollwheel="true">
            <polygon *ngFor="let p of parcels"
                     (click)="onParcelClick(p, $event)"
                     (mouseover)="onParcelUp($event)"
                     (mouseout)="onParcelOut($event)"
                     [paths]="p.paths"
                     [strokeColor]="defaultStrokeColor"
                     [strokeOpacity]="0.8"
                     [strokeWeight]="2"
                     [fillColor]="p.fillColor"
                     [fillOpacity]="0.35"
                     [zIndex]="defaultZIndex">
            </polygon>

            <marker *ngFor="let p of parcels"
                    [position]="p.paths[0]"
                    [label]="p.name"
                    [icon]="{
                        url: '/assets/img/crops/sunflower.png',
                        labelOrigin:  [16, -5],
                        scaledSize: [32, 32],
                        size: [32, 32]
                    }">
            </marker>

        </ngui-map>

    </div>
</div>

<div #infoBody>
    <br>
    <table class="table table-bordered table-hover small-table" *ngIf="parcel">
        <tr>
            <td translate>parcel.name</td>
            <td>{{ parcel.name }}</td>
        </tr>
        <tr>
            <td translate>parcel.cadaster-number</td>
            <td>{{ parcel.cadasterNumber }}</td>
        </tr>
        <tr>
            <td translate>parcel.land-worthiness-points</td>
            <td>{{ parcel.landWorthinessPoints }}</td>
        </tr>
        <tr>
            <td translate>parcel.area</td>
            <td>{{ parcel.area }}</td>
        </tr>
        <tr>
            <td translate>parcel.description</td>
            <td>{{ parcel.description }}</td>
        </tr>
    </table>
</div>