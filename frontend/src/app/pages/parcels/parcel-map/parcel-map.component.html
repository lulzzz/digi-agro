<div widget class="card">
    <div class="card-header">
        <span translate>geo.map</span>
        <div class="widget-controls">
            <a data-widgster="expand" href="#" class="transition"><i class="fa fa-chevron-down"></i></a>
            <a data-widgster="collapse" href="#" class="transition"><i class="fa fa-chevron-up"></i></a>
            <a data-widgster="close" href="#" class="transition"><i class="fa fa-times"></i></a>
        </div>
    </div>
    <div class="card-body widget-body">
        <ngui-map zoom="12" [center]="center" mapTypeId="terrain" scrollwheel="true">
            <polygon *ngFor="let p of models"
                     (click)="onParcelClick(p)"
                     (mouseover)="onParcelUp($event)"
                     (mouseout)="onParcelOut($event)"
                     [paths]="p.paths"
                     [strokeColor]="defaultStrokeColor"
                     [strokeOpacity]="0.8"
                     [strokeWeight]="2"
                     [fillColor]="p.fillColor"
                     [fillOpacity]="0.35"
                     [zIndex]="defaultZIndex">
            </polygon>

            <marker *ngFor="let p of models"
                    [position]="p.center"
                    [label]="{
                        fontSize: '10px',
                        text: p.name
                    }"
                    [icon]="{
                        url: p.icon,
                        labelOrigin:  [16, -5],
                        scaledSize: [32, 32],
                        size: [32, 32]
                    }">
            </marker>

        </ngui-map>
    </div>
</div>

