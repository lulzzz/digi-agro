<div class="row">
    <div class="col">
        <div widget class="card">
            <div class="card-header">
                <span translate>nav.harvesting-forecasting</span>
                <div class="widget-controls">
                    <a data-widgster="expand" href="#" class="transition"><i class="fa fa-chevron-down"></i></a>
                    <a data-widgster="collapse" href="#" class="transition"><i class="fa fa-chevron-up"></i></a>
                    <a data-widgster="fullscreen" href="#" class="transition"><i class="fa fa-expand"></i></a>
                    <a data-widgster="restore" href="#" class="transition"><i class="fa fa-compress"></i></a>
                    <a data-widgster="close" href="#" class="transition"><i class="fa fa-times"></i></a>
                </div>
            </div>
            <div class="card-body widget-body">

                <form (ngSubmit)="onSubmit()" [formGroup]="form" *ngIf="form">

                    <div class="form-group row text-sm-right">
                        <label class="col-sm-3 form-control-label m-t-5" translate>parcel.parcels</label>
                        <div class="col-sm-9 text-left">
                            <div class="form-group">
                                <ss-multiselect-dropdown [options]="parcels" *ngIf="parcels"
                                                         [texts]="parcelControlTexts"
                                                         [settings]="parcelControlSettings"
                                                         formControlName="parcels">
                                </ss-multiselect-dropdown>
                                <form-error-block [control]="form.get('parcels')"
                                                  [formSubmitted]="formSubmitted">
                                </form-error-block>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row text-sm-right">
                        <label class="col-sm-3 form-control-label m-t-5" translate>crop.category</label>
                        <div class="col-sm-9 text-left">
                            <div class="form-group">
                                <select id="crop-category" class="form-control custom-select"
                                        (change)="onCropCategoryChange()"
                                        formControlName="cropCategoryId">
                                    <option *ngFor="let category of categories"
                                            [ngValue]="category.id">{{category.nameRo}}
                                    </option>
                                </select>
                                <form-error-block [control]="form.get('cropCategoryId')"
                                                  [formSubmitted]="formSubmitted">
                                </form-error-block>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row text-sm-right">
                        <label class="col-sm-3 form-control-label m-t-5" translate>crop.name</label>
                        <div class="col-sm-9 text-left">
                            <div class="form-group">
                                <select id="crop-name" class="form-control custom-select"
                                        (change)="onCropChange()"
                                        formControlName="cropId" required>
                                    <option *ngFor="let crop of crops"
                                            [ngValue]="crop.id">{{crop.nameRo}}
                                    </option>
                                </select>
                                <form-error-block [control]="form.get('cropId')"
                                                  [formSubmitted]="formSubmitted">
                                </form-error-block>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row text-sm-right" *ngIf="cropVarieties && cropVarieties.length > 0">
                        <label class="col-sm-3 form-control-label m-t-5" translate>crop.variety</label>
                        <div class="col-sm-9 text-left">
                            <select id="crop-variety" class="form-control custom-select"
                                    formControlName="cropVarietyId">
                                <option selected></option>
                                <option *ngFor="let variety of cropVarieties"
                                        [ngValue]="variety.id">{{variety.nameRo}}
                                </option>
                                <form-error-block [control]="form.get('cropVarietyId')"
                                                  [formSubmitted]="formSubmitted">
                                </form-error-block>
                            </select>
                        </div>
                    </div>

                    <div class="form-group row text-sm-right">
                        <label class="col-sm-3 form-control-label m-t-5" translate>forecast.name</label>
                        <div class="col-sm-9 text-left">
                            <input class="form-control checking-field" formControlName="forecastName">
                            <form-error-block [control]="form.get('forecastName')"
                                              [formSubmitted]="formSubmitted">
                            </form-error-block>
                        </div>
                    </div>

                    <div class="form-group row text-sm-right">
                        <label class="col-sm-3 form-control-label m-t-5" translate>forecast.description</label>
                        <div class="col-sm-9 text-left">
                            <textarea class="form-control checking-field"
                                      formControlName="description">
                            </textarea>
                            <form-error-block [control]="form.get('description')"
                                              [formSubmitted]="formSubmitted">
                            </form-error-block>
                        </div>
                    </div>

                    <div class="form-group row text-sm-right">
                        <label class="col-sm-3 form-control-label m-t-5" translate>forecast.price</label>
                        <div class="col-sm-9 text-left">
                            <input class="form-control checking-field" type="number" formControlName="unitPrice">
                        </div>
                    </div>

                    <div class="form-group">
                        <button class="btn btn-main pull-right" type="submit" translate>action.save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>